<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      span {
        color: red;
      }
    </style>
  </head>
  <body>
    <h1>sign up</h1>
    <form id="myform" onsubmit="formvalidation()">
      <div>
        <input
          id="name"
          name="name"
          autofocus="true"
          type="text"
          placeholder="Name"
          oninput="onchangemethod()"
        />
        <br />
        <span id="nameerror"></span>
      </div>
      <br />
      <div>
        <input name="email" id="email" type="text" placeholder="Email" />
        <br />
        <span id="emailerror"></span>
      </div>
      <br />
      <div>
        <input
          name="password"
          id="password"
          type="password"
          placeholder="Password"
        />
        <br />
        <span id="passworderror"></span>
      </div>
      <br />
      <button type="submit">submit</button>
    </form>
    <p id="demo"></p>
    <script>
      //form data
      document
        .getElementById("myform")
        .addEventListener("submit", formvalidation);
      function formvalidation(event) {
        event.preventDefault();

        //value of inputfields
        let name = document.forms["myform"]["name"].value;
        let email = document.forms["myform"]["email"].value;
        let password = document.forms["myform"]["password"].value;

        //name
        if (name == "") {
          document.getElementById("nameerror").innerHTML = "Name not be empty";
          document.getElementById("name").style.border = "1px solid red";
        }

        //email
        if (email == "") {
          document.getElementById("emailerror").innerHTML =
            "Email not be empty";
          document.getElementById("email").style.border = "1px solid red";
        } else {
          document.getElementById("emailerror").innerHTML = "";
          document.getElementById("email").style.border = "";

          // email validation
          const re =
            /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
          if (re.test(String(email).toLowerCase())) {
            document.getElementById("emailerror").innerHTML = "";
            document.getElementById("email").style.border = "";
          } else {
            document.getElementById("emailerror").innerHTML =
              "Enter valid email address";
            document.getElementById("email").style.border = "1px solid red";
          }
        }

        //password
        if (password == "") {
          document.getElementById("passworderror").innerHTML =
            "Password not be empty";
          document.getElementById("password").style.border = "1px solid red";
        } else {
          //passowrd length
          if (password.length >= 6) {
            document.getElementById("passworderror").innerHTML = "";
            document.getElementById("password").style.border = "";
            console.log(
              "name: ",
              name,
              "email: ",
              email,
              "password: ",
              password
            );
          } else {
            document.getElementById("passworderror").innerHTML =
              "Password must be 6 character long";
            document.getElementById("password").style.border = "1px solid red";
          }
        }
      }
      function onchangemethod() {
        //value of inputfields
        let name = document.forms["myform"]["name"].value;
        if (name !== "") {
          document.getElementById("nameerror").innerHTML = "";
          document.getElementById("name").style.border = "";
        }
      }
    </script>
  </body>
</html>
